@model FiltersModel
@inject Database.SolforbDbContext DbContext
@{
    ViewData["Title"] = "Главная";
    var orders = await DbContext.GetOrdersAsync();
    var orderNumbers = DbContext.GetDistinctOrderNumbers();
    var providersId = DbContext.GetProvidersId();
    var itemsNames = DbContext.GetDistinctItemNames();
    var itemsQuantities = DbContext.GetDistinctItemQuantities();
    var itemsUnits = DbContext.GetDistinctItemUnits();
    var providersNames = DbContext.GetProvidersName();
}
<style>
    div div p {
        height:27px
    }
</style>
<div class="text-center">
    <div class="row">
        <div class="col-3">
            <a class="btn btn-primary" asp-controller="Create" asp-action="Order">
                Добавить заказ
            </a>
        </div>
        <div class="col-3">
            <button type="button" class="btn btn-primary">
                 Отфильтровать
            </button>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col col-sm-4 col-md-3 col-lg-2">
            <p>С</p>
            <input type="date" id="firstDatePicker" value="@DateFormater.GetMonthAgoDateString()"/>
            <p>По</p>
            <input type="date" id="secondDatePicker" value="@DateFormater.GetTodayDateString()" />
        </div>
        <div class="col col-sm-4 col-md-3 col-lg-2">
            <p>Order Number</p>
            <select class="form-select" aria-label="size 5 multiple select example" size="4" multiple>
                @foreach (var orderNumber in orderNumbers)
                {
                    <option value="@orderNumber">@orderNumber</option>
                }
            </select>
        </div>
        <div class="col col-sm-4 col-md-3 col-lg-1">
            <p>ProviderId</p>
            <select class="form-select" aria-label="size 5 multiple select example" size="4" multiple>
                @foreach (var providerId in providersId)
                {
                    <option value="@providerId">@providerId</option>
                }
            </select>
        </div>
        <div class="col col-sm-4 col-md-3 col-lg-2">
            <p>Item Name</p>
            <select class="form-select" aria-label="size 5 multiple select example" size="4" multiple>
                @foreach (var itemsName in itemsNames)
                {
                    <option value="@itemsName">@itemsName</option>
                }
            </select>
        </div>
        <div class="col col-sm-4 col-md-3 col-lg-1">
            <p>Item Quantity</p>
            <select class="form-select" aria-label="size 5 multiple select example" size="4" multiple>
                @foreach (var itemQuantity in itemsQuantities)
                {
                    <option value="@itemQuantity">@itemQuantity</option>
                }
            </select>
        </div>
        <div class="col col-sm-4 col-md-3 col-lg-2">
            <p>Item Unit</p>
            <select class="form-select" aria-label="size 5 multiple select example" size="4" multiple>
                @foreach (var itemsUnit in itemsUnits)
                {
                    <option value="@itemsUnit">@itemsUnit</option>
                }
            </select>
        </div>
        <div class="col col-sm-4 col-md-3 col-lg-2">
            <p>Provider Name</p>
            <select class="form-select" aria-label="size 5 multiple select example" size="4" multiple>
                @foreach (var providerName in providersNames)
                {
                    <option value="@providerName">@providerName</option>
                }
            </select>
        </div>
    </div>
    <div class="row">
        <table class="table table-hover">
            <thead>
               <tr>
                  <th scope="col">Id</th>
                  <th scope="col">Number</th>
                  <th scope="col">Date</th>
                  <th scope="col">ProviderId</th>
                  <th scope="col">Count of items</th>
               </tr>
            </thead>
            <tbody>
                @foreach (var order in orders)
                {
                    <tr onclick="location.href = 'Order/@order.Id'">
                        <th scope="row">@order.Id</th>
                        <td>@order.Number</td>
                        <td>@order.Date</td>
                        <td>@order.ProviderId</td>
                        <td>@order.OrderItems.Count()</td>
                    </tr>   
                }
@*                <tr onclick="location.href = '@Url.Action("Index", "Create")'">
                    <th scope="row">2</th>
                    <td>Jacob</td>
                    <td>Thornton</td>
                    <td>123</td>
                </tr>*@
            </tbody>
        </table>
    </div>
</div>
