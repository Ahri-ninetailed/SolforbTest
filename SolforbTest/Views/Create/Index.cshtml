@model Order
@{
    ViewData["Title"] = "Создать";
}
<style>
    .form-text {
        color: red;
    }
</style>

<div class="row">
    <form asp-controller="Create" asp-action="Index" method="post">
        <h1>Заказ</h1>
        <div class="mb-3">
            <p>Поставщик:</p>
            <select class="form-select" aria-label="Default select example" asp-for="Provider.Name">
                @foreach (Provider provider in ViewBag.Providers)
                {
                    <option value="@provider.Id">@provider.Name</option>
                }
            </select>
        </div>
        <div class="mb-3">
            <label class="form-label">Number</label>
            <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" asp-for="Number">
            <div id="emailHelp" class="form-text">@ViewBag.NumberLabel</div>
        </div>
        <div class="mb-3">
            <label for="exampleInputPassword1" class="form-label">Date</label>
            <input type="date" class="form-control" id="exampleInputPassword1" value="@DateFormater.GetTodayDateString()" asp-for="Date">
        </div>
        <h4>Элементы заказа</h4>
        @for (int i = 0; i < Model.OrderItems.Count(); i++)
        {
            <div class="ms-5 row">
                <div class="col-3 mb-3">
                    <label for="exampleInputEmail1" class="form-label">Name</label>
                    <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" asp-for=@Model.OrderItems[i].Name>
                    <div id="emailHelp" class="form-text">@ViewData[$"NameLabel{i}"]</div>
                </div>
                <div class="col-3 mb-3">
                    <label for="exampleInputPassword1" class="form-label">Quantity</label>
                    <input type="number" step="any" value="1" class="form-control" id="exampleInputPassword1" asp-for="@Model.OrderItems[i].Quantity">
                    <div id="emailHelp" class="form-text">@ViewData[$"QuantityLabel{i}"]</div>
                </div>
                <div class="col-3 mb-3">
                    <label for="exampleInputEmail1" class="form-label">Unit</label>
                    <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" asp-for="@Model.OrderItems[i].Unit">
                    <div id="emailHelp" class="form-text">@ViewData[$"UnitLabel{i}"]</div>
                </div>
                <div class="col-3" style="margin-top: 32px;">
                    <a class="btn btn-danger">Удалить</a>
                </div>
            </div>
        }
        <a class="btn btn-success">Добавить элемент</a>
        <button type="submit" value="Submit" class="btn btn-primary">Сохранить</button>
    </form>
</div>
